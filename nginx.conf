# nginx.conf

server {
    listen 80;
    # 请在这里换成你的域名，或者用 localhost
    server_name mcp.so.kg; 

    # 网站文件根目录
    root /usr/share/nginx/html;
    index index.html;

    # 设置默认的 charset
    charset utf-8;

    # 优雅地处理 "找不到页面" 的情况
    error_page 404 /index.html;

    location / {
        # 尝试查找完全匹配的文件或目录，如果都找不到，就交给 index.html 处理（适用于单页应用，对我们静态网站也很友好）
        try_files $uri $uri/ /index.html;
    }

    # 专门为 /posts/ 路径下的文章配置路由，确保能正确找到.html文件
    location ~ ^/posts/(.*)\.html$ {
        try_files $uri =404;
    }
}